<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Conference</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root {
      --primary: #61223b;
      --accent: #b79962;
    }

    body {
      background: url('Stellies.png') center / cover no-repeat fixed;
      margin: 0;
    }
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(255, 255, 255, 0.88);
      z-index: -1;
    }

    .page-wrapper {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    .content-grow {
      flex: 1 0 auto;
    }

    .heading-primary {
      color: var(--primary);
      font-weight: 800;
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 1.5rem;
    }

    .speaker-item {
      border-left: 3px solid var(--accent);
      padding-left: 15px;
      height: 100%;
    }

    .btn-maroon {
      background-color: var(--primary);
      color: white;
      border-radius: 50px;
      padding: 10px 25px;
      font-weight: 600;
      transition: 0.3s;
      border: none;
    }
    .btn-maroon:hover {
      background-color: var(--accent);
      color: white;
    }

    .nav-link {
      color: var(--primary) !important;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
    }

    @media (min-width: 768px) {
      .border-md-end { border-right: 1px solid rgba(0,0,0,0.1) !important; }
    }

    .carousel-item {
      transition: transform 0.6s ease-in-out;
      padding: 10px 0;
    }

    .carousel-control-prev, .carousel-control-next {
      width: 5%; /* Keeps arrows to the very edge */
    }

    .carousel-control-prev-icon, .carousel-control-next-icon {
      background-color: rgba(0,0,0,0.2);
      border-radius: 50%;
      padding: 15px;
    }

    .nav-link.active {
      color: var(--accent) !important;
      font-weight: 700;
      position: relative;
    }

    .nav-link.active::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: -4px;
      transform: translateX(-50%);
      width: 60%;
      height: 2px;
      background-color: var(--accent);
    }
  </style>
</head>
<body>

<div class="page-wrapper">

  <nav class="navbar navbar-expand-lg bg-white shadow-sm sticky-top py-3">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="img.png" alt="Logo" height="40">
      </a>

      <div class="d-lg-none ms-auto me-2">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLScQw8dfIUZeVSHTCcHeTuVCvWXpTOO74NKpE4equ5sZI_cJdA/viewform?usp=header" class="btn btn-maroon btn-sm py-2 px-3">REGISTER</a>
      </div>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item"><a class="nav-link px-3 active" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link px-3" href="confirmedSpeakers.html">Participants</a></li>
          <li class="nav-item"><a class="nav-link px-3" href="accommodation.html">Accommodation</a></li>
          <li class="nav-item"><a class="nav-link px-3" href="organisers.html">Organisers</a></li>
        </ul>

        <div class="d-none d-lg-block">
          <a href="https://docs.google.com/forms/d/e/1FAIpQLScQw8dfIUZeVSHTCcHeTuVCvWXpTOO74NKpE4equ5sZI_cJdA/viewform?usp=header" class="btn btn-maroon">REGISTER</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="content-grow d-flex align-items-center py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h1 class="heading-primary display-4 mb-2">STELLENBOSCH NUMBER THEORY CONFERENCE 2027</h1>
        <h3 class="fw-bold" style="color: var(--accent);">18–22 JANUARY 2027</h3>
      </div>

      <div class="row justify-content-center">
        <div class="col-xl-10">
          <div class="glass-card p-4 p-md-3 shadow-sm">
            <div class="row g-4 g-md-3">
              <div class="col-md-7 border-md-end">
                <h5 class="fw-bold text-uppercase mb-3" style="color: var(--primary);">Purpose</h5>
                <p class="fs-6 mb-0">
                  The Stellenbosch Number Theory conference is held every two years to attract
                  international experts to South Africa to enrich our research and postgraduate experiences.
                  The theme is broadly around number theory and arithnmetic geometry, but does not have
                  a narrow focus on any specific area. Often we have talks on a variety of topics ranging
                  from elliptic curves to modular forms to function field arithmetic to rational
                  points on varieties to model theoretic approaches and more.
                </p>
              </div>
              <div class="col-md-5">
                <h5 class="fw-bold text-uppercase mb-3" style="color: var(--primary);">Funding</h5>
                <p>We may be able to assist in a limited capacity with accommodation and maybe flights.
                  If you would like us to consider you for funding, please let us know.</p>
                <div class="p-3 rounded-3 mb-4" style="background: rgba(183, 153, 98, 0.1);">
                  <small class="d-block fw-bold text-muted">Deadline:</small>
                  <span class="fw-bold text-dark">1 October 2026</span>
                </div>
              </div>
            </div>

            <div class="text-center mt-5 pt-4 border-top">
              <p class="mb-0 small fw-bold text-muted">Inquiries:</p>
              <a href="mailto:naina@sun.ac.za" class="fw-bold text-decoration-none" style="color: var(--primary); font-size: 1.1rem;">
                naina@sun.ac.za
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="py-3" style="background: var(--primary); color: white;">
    <div class="container">
      <div class="row align-items-center mb-3">
        <div class="col-sm-6 text-center text-sm-start">
          <h4 class="mb-0 fw-bold">Confirmed Participants</h4>
        </div>
        <div class="col-sm-6 text-center text-sm-end mt-2 mt-sm-0">
          <a href="ConfirmedSpeakers.html" class="text-decoration-none" style="color: var(--accent); font-weight: 600;">View All participants ↗</a>
        </div>
      </div>

      <div id="speakerCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner" id="speaker-list">
          <div class="col text-center w-100 text-white-50">Loading participants...</div>
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#speakerCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(1);"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#speakerCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(1);"></span>
        </button>
      </div>
    </div>
  </footer>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const webAppUrl = "https://script.google.com/macros/s/AKfycbyjftJJB2W0EIfzWwNDWoHdSakBXXbLJq_3WT_WXEw1JO-xhqc0KKWNu99QnZkpuyNP/exec";

  async function loadSpeakers() {
    const container = document.getElementById("speaker-list");
    try {
      const response = await fetch(webAppUrl);
      let data = await response.json();
      container.innerHTML = "";

      data.sort((a, b) => a.name.localeCompare(b.name));

      // We will group speakers: 3 per slide for desktop, 1 per slide for mobile is handled by Bootstrap grid inside
      // But for a true "slideshow" feel, let's do 1 slide per speaker or small groups.
      // Here, we create a slide for every 3 speakers.
      for (let i = 0; i < data.length; i += 3) {
        const chunk = data.slice(i, i + 3);
        const carouselItem = document.createElement("div");
        carouselItem.className = `carousel-item ${i === 0 ? 'active' : ''}`;

        // Use a row inside the slide to keep your 3-column desktop layout
        let innerHTML = `<div class="row row-cols-1 row-cols-md-3 g-4 justify-content-center px-5">`;

        chunk.forEach(person => {
          innerHTML += `
            <div class="col">
              <div class="speaker-item text-start">
                <div class="fw-bold" style="color: var(--accent);">${person.name}</div>
                <div class="small text-white-50">${person.affiliation}</div>
              </div>
            </div>`;
        });

        innerHTML += `</div>`;
        carouselItem.innerHTML = innerHTML;
        container.appendChild(carouselItem);
      }
    } catch (error) {
      container.innerHTML = "<div class='text-center w-100'>Error loading participants.</div>";
    }
  }
  loadSpeakers();
</script>
</body>
</html>